name: "test-read-model-writer"
namespace: "dev"
techStack: "nodejs"
moduleType: "read-model-writer"

topicStartingOffset: "earliest"
externalValue: "externalValue"

service:
  create: false
  containerPort: 8088

serviceAccount:
  roleArn: "arn:aws:iam::000000000000:role/read-model-writer-dev"

configmap:
  KAFKA_CLIENT_ID: "dev-pagopa-test-read-model-writer"
  KAFKA_GROUP_ID: "dev-read-model-writer"
  EXTERNAL_VALUE: "{{.Values.externalValue}}"

deployment:
  replicas: 1
  image:
    repositoryPrefix: "000000000000.dkr.ecr.eu-central-1.amazonaws.com"
    imagePullPolicy: Always
    tag: $IMAGE_TAG_PLACEHOLDER
    digest: $IMAGE_DIGEST_PLACEHOLDER
  env:
    FIXED_VALUE: "fixed_value"
    TOPIC_STARTING_OFFSET: "{{.Values.topicStartingOffset}}"
  envFromFieldRef:
    AWS_ROLE_SESSION_NAME: "metadata.name"
  envFromConfigmaps:
    PURPOSE_TOPIC: "common-kafka.PURPOSE_TOPIC"
  envFromSecrets:
    SOME_SECRET: "secret-map.SECRET_KEY"
  resources:
    requests:
      cpu: "1000m"
      memory: "2Gi"
    limits:
      cpu: "1000m"
      memory: "2Gi"
